<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="How to change enviroments (local, dev, qa, staging, production) on browser with bookmarklets.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Switching Hosts With Bookmarklets - Web Development Tips | Avil Page</title>
<link href="../../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://avilpage.com/2019/05/environment-bookmarklet-web-development-tips.html">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Chillar Anand">
<link rel="prev" href="../04/how-to-debug-postgres-triggers.html" title="A Short Guide To Debugging PostgreSQL Triggers" type="text/html">
<link rel="next" href="total-recall-grandma-phone-numbers.html" title="Why My Grandma Can Recall 100+ Phone Numbers, But We Can't" type="text/html">
<meta property="og:site_name" content="Avil Page">
<meta property="og:title" content="Switching Hosts With Bookmarklets - Web Development Tips">
<meta property="og:url" content="https://avilpage.com/2019/05/environment-bookmarklet-web-development-tips.html">
<meta property="og:description" content="How to change enviroments (local, dev, qa, staging, production) on browser with bookmarklets.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-05-08T21:10:52+05:30">
<meta property="article:tag" content="browser">
<meta property="article:tag" content="javascript">
<style>

 h1 {
     font-weight: bold;
     font-size: 25px;
 }

</style>
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

    <!-- Menubar -->
    <nav class="navbar navbar-expand-md static-top mb-4
                navbar-dark
                bg-dark
                "><div class="container">
<!-- This keeps the margins nice -->
            <a class="navbar-brand" href="../../">

                    <span id="blog-title">Avil Page</span>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="bs-navbar">
                <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../top-10.html" class="nav-link">Top 10</a>
                </li>
<li class="nav-item">
<a href="../../archive.html" class="nav-link">Articles</a>
                </li>
<li class="nav-item">
<a href="../../p/projects.html" class="nav-link">Projects</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">RSS</a>

                    
                </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
        </div>
<!-- /.container -->
    </nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="row justify-content-md-center">
        <div class="body-content col col-lg-6">
            <!--Body content-->
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Switching Hosts With Bookmarklets - Web Development Tips</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Chillar Anand
            </span></p>
            <p class="dateline">
            <a href="#" rel="bookmark">
            <time class="published dt-published" datetime="2019-05-08T21:10:52+05:30" itemprop="datePublished" title="2019-05-08">2019-05-08</time></a>
            </p>
                    <p class="sourceline"><a href="environment-bookmarklet-web-development-tips.md" class="sourcelink">Source</a></p>

        </div>
        
    </header>


    

        3 min read



    <div class="e-content entry-content" itemprop="articleBody text">
    <p>When debugging an issue related to web development projects, which is inconsistent between environments (local, development, QA, staging and production), we have to frequently switch between them.</p>
<p>If we are debugging something on the home page, then we can just bookmark the host URLs. We can switch between them by clicking on the relevant bookmark. Some browsers provide autocompletion for bookmarks. So we can type a few characters and then select the relevant URL from suggestions.</p>
<p>When debugging an issue on some other page like <a href="#">https://avilpage.com/validate/books/?name=darwin&amp;year=2019</a>, which has URL path and query param, switching between enviroment becomes tedious. To switch to local environment, we have to manually replace the hostname with localhost.</p>
<p>To avoid this, we can use a bookmarklet to switch the hosts. A <a href="https://en.wikipedia.org/wiki/Bookmarklet">bookmarklet</a> is a bookmark which contains a JavaScript code snippet in its URL. This code snippet will be executed when the bookmarklet is clicked.</p>
<p>Lets create a bookmarklet to replace host in the URL with <a href="http://localhost:8000">http://localhost:8000</a>. Create new bookmark called <code>To Local</code> and in the URL add the following snippet.</p>
<div class="code"><pre class="code literal-block"><span class="nx">javascript</span><span class="o">:</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"http://localhost:8000"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span><span class="w"> </span><span class="p">}())</span><span class="w"></span>
</pre></div>

<p>If we click on <code>To Local</code> bookmarklet, it will redirect the current active page to localhost URL.</p>
<p>We can create one more bookmarklet to switch to production. Create a bookmarklet called <code>To Production</code> and add the following snippet in the URL.</p>
<div class="code"><pre class="code literal-block"><span class="nx">javascript</span><span class="o">:</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"http://avilpage.com"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span><span class="w"> </span><span class="p">}())</span><span class="w"></span>
</pre></div>

<p>We can create similar bookmarklets to switch to other enviroments. Now, switching between enviroments on any page is as easy as clicking a button.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/browser.html" rel="tag">browser</a></li>
            <li><a class="tag p-category" href="../../tags/javascript.html" rel="tag">javascript</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../04/how-to-debug-postgres-triggers.html" rel="prev" title="A Short Guide To Debugging PostgreSQL Triggers">Previous post</a>
            </li>
            <li class="next">
                <a href="total-recall-grandma-phone-numbers.html" rel="next" title="Why My Grandma Can Recall 100+ Phone Numbers, But We Can't">Next post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
                Contents Â© 2022         <a href="mailto:">Chillar Anand</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
                
            </footer>
</div>
    </div>
    </div>

                <script src="../../assets/js/jquery.min.js"></script><script src="../../assets/js/popper.min.js"></script><script src="../../assets/js/bootstrap.min.js"></script><script src="../../assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
