<!--
.. title: Setup Self-hosted Comment System For Static Sites
.. slug: commenting-system-for-static-sites
.. date: 2020-01-31 07:17:12 UTC+05:30
.. tags: static-site, meta, draft
.. category:
.. link:
.. description: How to setup an open source self hosted commenting system for static sites like Jekyll, Nikola, Hugo etc.
.. type: text
-->

### Introduction

This blog [AvilPage][] is generated by [Nikola][], a static site generator. Since this is a static site, to setup up comments it has to depend on hosted commenting systems like
<a href='https://disqus.com' rel='nofollow'>Disqus</a>,
<a href='https://just-comments.com' rel='nofollow'>JustComments</a>
etc or self-host an open source system like  [Coral][], [StaticMan][] etc.

Hosted systems have no maintainance but has privacy and pricing issues. With self hosted systems, there will be complete access to data but maintainance is an issue.

Coral commenting system provides 1-click deployment to Heroku which reduces maintainance effort.


### Setting Up Coral

Heroku provides free hosting for hobby projects. Coral project provides a template to deploy to Heorku directly. Once the app is deployed, we can configure comment system from the coral admin page.

Once it is configured, we have to embed JS snippet available at [Coral CMS integration](https://docs.coralproject.net/talk/v5/integrating/cms/) to the static site to render comments.

If we use Heroku free tier, Dynos will sleep when there is no traffic. Next time when someone posts a comment, it will take a while for the dyno to respond. To prevent we can setup a monitor on Uptimerobot or Pingdom so that it will make a request to heroku app every ~20 minutes. This will consume Dyno hours but coral app response will be faster.

### Conclusion

Self-hosting a comment system is easy with Coral. There are other hosted alternatives to Disqus but due to privacy and pricing concerns, I wanted to use self-hosted commenting system.

Thanks to [Master Ruth](http://blog.kiranruth.com) for nudging and helping me in setting up comment system on this blog.


[JustComments]:
[AvilPage]: https://avilpage.com
[Nikola]: https://pypi.org/project/Nikola/
[Disqus]: <a>https://disqus.com<a/>
[staticman]: https://github.com/eduardoboucas/staticman
[coral]: https://github.com/coralproject/talk
