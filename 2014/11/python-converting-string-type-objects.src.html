<html><body><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on">I was writing custom template tags for one of my Django package. I came across a situation where I had lists in string format. I need to convert them into lists.<br><pre style="background-color: #eeffcc; border-bottom-color: rgb(170, 204, 153); border-bottom-width: 1px; border-style: solid none; border-top-color: rgb(170, 204, 153); border-top-width: 1px; line-height: 30px; overflow-x: auto; overflow-y: hidden; padding: 2px;">temp_str = '[345, 3, 456, 45]'<br>required_obj = [345, 3, 456, 45]</pre>There are two methods to get this job done.<br><br><h3 style="text-align: left;">1. ast.literal_eval:</h3><div>This can be used to evaluate  strings containing Python values from untrusted sources without parsing values.</div><div><pre style="background-color: #eeffcc; border-bottom-color: rgb(170, 204, 153); border-bottom-width: 1px; border-style: solid none; border-top-color: rgb(170, 204, 153); border-top-width: 1px; line-height: 30px; overflow-x: auto; overflow-y: hidden; padding: 2px;">import ast<br>ast.literal_eval(temp_str)<br></pre><h3 style="text-align: left;">2. json.loads:</h3><div>This is used to deserialize a string to python object using a <a href="https://docs.python.org/2/library/json.html#json-to-py-table" target="_blank">conversion table</a>.</div><div><pre style="background-color: #eeffcc; border-bottom-color: rgb(170, 204, 153); border-bottom-width: 1px; border-style: solid none; border-top-color: rgb(170, 204, 153); border-top-width: 1px; line-height: 30px; overflow-x: auto; overflow-y: hidden; padding: 2px;">import json<br>json.loads(temp_str)<br></pre></div>These two functions come in handy whenever you want to convert a list of python objects to their correct types. For example, if you have list of python objects like this <br><pre style="background-color: #eeffcc; border-bottom-color: rgb(170, 204, 153); border-bottom-width: 1px; border-style: solid none; border-top-color: rgb(170, 204, 153); border-top-width: 1px; line-height: 26px; overflow-x: auto; overflow-y: hidden; padding: 2px;">obj_list =  ['hello', '3', '3.64', '-1']<br></pre>You can convert them to their corresponding types using these functions. <br><pre style="background-color: #eeffcc; border-bottom-color: rgb(170, 204, 153); border-bottom-width: 1px; border-style: solid none; border-top-color: rgb(170, 204, 153); border-top-width: 1px; line-height: 26px; overflow-x: auto; overflow-y: hidden; padding: 2px;">def converter(l):<br>    for i in l:<br>        try:<br>            yield json.loads(i)<br>        except ValueError:<br>            yield i<br></pre><pre style="background-color: #eeffcc; border-bottom-color: rgb(170, 204, 153); border-bottom-width: 1px; border-style: solid none; border-top-color: rgb(170, 204, 153); border-top-width: 1px; line-height: 26px; overflow-x: auto; overflow-y: hidden; padding: 2px;">def converter(l):<br>    for i in l:<br>        try:<br>            yield ast.literal_eval(i)<br>        except ValueError:<br>            yield i<br></pre>They yield a objects of corresponding types <br><pre style="background-color: #eeffcc; border-bottom-color: rgb(170, 204, 153); border-bottom-width: 1px; border-style: solid none; border-top-color: rgb(170, 204, 153); border-top-width: 1px; line-height: 26px; overflow-x: auto; overflow-y: hidden; padding: 2px;">new_obj_list = ['hello', 3, 3.64, -1]<br></pre>References: <a href="http://docs.celeryproject.org/en/latest/index.html" target="_blank">Python Docs</a>, <a href="http://stackoverflow.com/a/26979669/2698552" target="_blank">Stackoverflow</a> </div></div></div></body></html>