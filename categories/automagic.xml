<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Avil Page (automagic)</title><link>http://www.avilpage.com</link><description></description><atom:link rel="self" href="http://www.avilpage.com/categories/automagic.xml" type="application/rss+xml"></atom:link><language>en</language><lastBuildDate>Mon, 31 Oct 2016 16:28:47 GMT</lastBuildDate><generator>https://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>[Python] Automagically Reload Imports In iPython!</title><link>http://www.avilpage.com/2014/11/python-automagically-reload-imports-in.html</link><dc:creator>Chillar Anand</dc:creator><description>&lt;div dir="ltr" style="text-align: left;" trbidi="on"&gt;If you are using iPython, you will be importing some of the modules you have written. While playing with them, you may want to change them or if there is a bug, you will have to fix them. Since you have changed your code, you have to exit and start new instance of the interpreter or you can reload the module.&lt;br&gt;&lt;br&gt;To reload the already imported modules:&lt;br&gt;&lt;br&gt;In Python 2.x, you can do directly run&lt;br&gt;&lt;div style="background-color: #eeffcc;"&gt;&lt;pre style="border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; line-height: 18.5279998779297px; overflow-x: auto; overflow-y: hidden; padding: 5px;"&gt;&amp;gt;&amp;gt;&amp;gt; imp.reload(module)&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;In Python 3.0–3.3 you have to use  &lt;br&gt;&lt;div style="background-color: #eeffcc;"&gt;&lt;pre style="border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; line-height: 18.5279998779297px; overflow-x: auto; overflow-y: hidden; padding: 5px;"&gt;&amp;gt;&amp;gt;&amp;gt; imp.reload(module)&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;In Python 3.4 you have to use  &lt;br&gt;&lt;div style="background-color: #eeffcc;"&gt;&lt;pre style="border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; line-height: 18.5279998779297px; overflow-x: auto; overflow-y: hidden; padding: 5px;"&gt;&amp;gt;&amp;gt;&amp;gt; importlib.reload(module)&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;If you are developing something this will be annoying because for every small change you need to reload the module.    iPython has a cool extension called autoreload which automatically reloads modules. You can load it with    &lt;br&gt;&lt;div style="background-color: #eeffcc;"&gt;&lt;pre style="border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; line-height: 18.5279998779297px; overflow-x: auto; overflow-y: hidden; padding: 5px;"&gt;In [15]: %load_ext autoreload&lt;br&gt;&lt;br&gt;In [16]: %autoreload?&lt;br&gt;&lt;br&gt;%autoreload =&amp;gt; Reload modules automatically&lt;br&gt;&lt;br&gt;%autoreload&lt;br&gt;&lt;br&gt;Reload all modules (except those excluded by %aimport) automatically now.&lt;br&gt;&lt;br&gt;%autoreload 0&lt;br&gt;&lt;br&gt;Disable automatic reloading.&lt;br&gt;&lt;br&gt;%autoreload 1&lt;br&gt;&lt;br&gt;Reload all modules imported with %aimport every time before executing&lt;br&gt;&lt;br&gt;the Python code typed.&lt;br&gt;&lt;br&gt;%autoreload 2&lt;br&gt;&lt;br&gt;Reload all modules (except those excluded by %aimport) every time&lt;br&gt;&lt;br&gt;before executing the Python code typed.&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;So, if you set autoreload to 2 it reloads modules everytime before executing code.&lt;br&gt;&lt;div style="background-color: #eeffcc;"&gt;&lt;pre style="border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; line-height: 18.5279998779297px; overflow-x: auto; overflow-y: hidden; padding: 5px;"&gt; In [15]: %autoreload 2&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;You can do this everytime you start iPython or you can add config iPython to that automatically.&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;Create a default profile using this command&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;div style="background-color: #eeffcc;"&gt;&lt;pre style="border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; line-height: 18.5279998779297px; overflow-x: auto; overflow-y: hidden; padding: 5px;"&gt;&lt;span style="background-color: transparent;"&gt;$ ipython profile create&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;Go to your default profile at ~/.ipython/profile_default/ipython_config.py  and find these two lines&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;div style="background-color: #eeffcc;"&gt;&lt;pre style="border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; line-height: 18.5279998779297px; overflow-x: auto; overflow-y: hidden; padding: 5px;"&gt;c.InteractiveShellApp.extensions = []&lt;br&gt;c.InteractiveShellApp.exec_lines = []&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;and change them to &lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;div style="background-color: #eeffcc;"&gt;&lt;pre style="border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15px; line-height: 18.5279998779297px; overflow-x: auto; overflow-y: hidden; padding: 5px;"&gt;c.InteractiveShellApp.extensions = ['autoreload']&lt;br&gt;c.InteractiveShellApp.exec_lines = ['%autoreload 2']&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;Also note that reload doesn't reloads c extensions automatically.&lt;/div&gt;</description><category>auto</category><category>automagic</category><category>automatic</category><category>imports</category><category>ipython</category><category>modules</category><category>python</category><category>reload</category><category>tech</category><guid>http://www.avilpage.com/2014/11/python-automagically-reload-imports-in.html</guid><pubDate>Wed, 19 Nov 2014 17:21:00 GMT</pubDate></item></channel></rss>